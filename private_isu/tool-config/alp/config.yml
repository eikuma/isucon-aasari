# /home/isucon/tool-config/alp/config.yml

# 除外するパス（静的ファイルなど）

# 集計の単位（URLのクエリなどを正規化）
normalize: true

# グルーピングルール（パスを共通化）
group_by: request_uri

# 上位N件のみ表示
limit: 50

# ソート対象（count, sum, avg など）
sort: sum

# スロークエリのしきい値（任意）
# slow_threshold: 1.0

# ログフォーマット（明示しないと LTSV assumed）
# format: ltsv
log_format: combined

regexp:
  pattern: '^(?P<remote_addr>[^ ]*) - (?P<remote_user>[^ ]*) \[(?P<time_local>[^\]]*)\] "(?P<request>[^"]*)" (?P<status>\d+) (?P<body_bytes_sent>\d+) "(?P<http_referer>[^"]*)" "(?P<http_user_agent>[^"]*)"'
  time_format: '%d/%b/%Y:%H:%M:%S %z'
  time_key: time_local